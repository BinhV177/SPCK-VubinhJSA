<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Thông tin cá nhân - Chic Boutique</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link rel="stylesheet" href="./styles/profile.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;500;600;700&family=Poppins:wght@300;400;500;600&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Header -->
    <header class="header">
        <nav class="navbar">
            <div class="brand">
                <img src="./assets/logo.png" alt="Chic Boutique Logo" class="logo-img">
                <span class="brand-name">Chic Boutique</span>
            </div>
            <div class="nav-actions">
                <a href="index.html" class="back-btn"><i class="fas fa-arrow-left"></i> Quay lại trang chủ</a>
            </div>
        </nav>
    </header>

    <!-- Profile Section -->
    <main class="profile-container">
        <div class="profile-sidebar">
            <div class="profile-header">
                <div class="profile-avatar-container">
                    <div class="profile-avatar">
                        <img src="./assets/default-avatar.png" alt="Avatar" id="userAvatar">
                        <button class="change-avatar-btn">
                            <i class="fas fa-camera"></i>
                        </button>
                    </div>
                </div>
                <h2 class="profile-name" id="userName">VuBinh2012</h2>
                <p class="profile-email" id="userEmail">nguyengovubinh12@gmail.com</p>
                <div class="profile-status">
                    <span class="status-badge">Khách hàng VIP</span>
                </div>
            </div>
            <nav class="profile-nav">
                <a href="#personal-info" class="active">
                    <i class="fas fa-user"></i> Thông tin cá nhân
                </a>
            </nav>
            <div class="logout-container">
                <button id="logoutBtn" class="logout-btn">
                    <i class="fas fa-sign-out-alt"></i> Đăng xuất
                </button>
            </div>
        </div>

        <div class="profile-content">
            <!-- Account Summary Section -->
            <div class="account-info">
                <div class="account-info-header">
                    <h4>Tổng quan tài khoản</h4>
                    <div class="account-info-actions">
                        <span class="last-login">Đăng nhập gần nhất: <span id="lastLoginTime">Hôm nay, 10:45</span></span>
                    </div>
                </div>
                <div class="account-details">
                    <div class="account-detail-item">
                        <div class="detail-icon"><i class="fas fa-user"></i></div>
                        <div class="detail-content">
                            <span class="detail-label">Tên tài khoản</span>
                            <span class="detail-value" id="summaryName">VuBinh2012</span>
                        </div>
                    </div>
                    <div class="account-detail-item">
                        <div class="detail-icon"><i class="fas fa-envelope"></i></div>
                        <div class="detail-content">
                            <span class="detail-label">Email</span>
                            <span class="detail-value" id="summaryEmail">nguyengovubinh12@gmail.com</span>
                        </div>
                    </div>
                    <div class="account-detail-item">
                        <div class="detail-icon"><i class="fas fa-phone"></i></div>
                        <div class="detail-content">
                            <span class="detail-label">Số điện thoại</span>
                            <span class="detail-value" id="summaryPhone">090667988</span>
                        </div>
                    </div>
                    <div class="account-detail-item">
                        <div class="detail-icon"><i class="fas fa-calendar-alt"></i></div>
                        <div class="detail-content">
                            <span class="detail-label">Ngày tạo tài khoản</span>
                            <span class="detail-value" id="summaryCreated">10/05/2025</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Personal Information Section -->
            <section id="personal-info" class="profile-section active">
                <div class="section-header">
                    <h3>Thông tin cá nhân</h3>
                    <p class="section-description">Cập nhật thông tin cá nhân của bạn để chúng tôi có thể phục vụ bạn tốt hơn</p>
                </div>
                <form class="profile-form" id="profileForm">
                    <div class="form-group">
                        <label>Họ và tên</label>
                        <div class="input-with-icon">
                            <i class="fas fa-user"></i>
                            <input type="text" id="fullName" placeholder="Nhập họ và tên" value="VuBinh2012">
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label>Số điện thoại</label>
                            <div class="input-with-icon">
                                <i class="fas fa-phone"></i>
                                <input type="tel" id="phone" placeholder="Nhập số điện thoại" value="090667988">
                            </div>
                        </div>
                        <div class="form-group">
                            <label>Ngày sinh</label>
                            <div class="birthday-inputs">
                                <div class="custom-select">
                                    <select id="day" required>
                                        <option value="" disabled>Ngày</option>
                                        <option value="1" selected>1</option>
                                        <option value="2">2</option>
                                        <option value="3">3</option>
                                        <!-- Thêm các ngày khác -->
                                    </select>
                                    <div class="select-arrow"><i class="fas fa-chevron-down"></i></div>
                                </div>
                                <div class="custom-select">
                                    <select id="month" required>
                                        <option value="" disabled>Tháng</option>
                                        <option value="1" selected>1</option>
                                        <option value="2">2</option>
                                        <option value="3">3</option>
                                        <!-- Thêm các tháng khác -->
                                    </select>
                                    <div class="select-arrow"><i class="fas fa-chevron-down"></i></div>
                                </div>
                                <div class="custom-select">
                                    <select id="year" required>
                                        <option value="" disabled>Năm</option>
                                        <option value="2025" selected>2025</option>
                                        <option value="2024">2024</option>
                                        <option value="2023">2023</option>
                                        <!-- Thêm các năm khác -->
                                    </select>
                                    <div class="select-arrow"><i class="fas fa-chevron-down"></i></div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <label>Giới tính</label>
                        <div class="radio-group">
                            <label class="radio-label">
                                <input type="radio" name="gender" value="male" checked>
                                <span class="radio-custom"></span>
                                <span>Nam</span>
                            </label>
                            <label class="radio-label">
                                <input type="radio" name="gender" value="female">
                                <span class="radio-custom"></span>
                                <span>Nữ</span>
                            </label>
                            <label class="radio-label">
                                <input type="radio" name="gender" value="other">
                                <span class="radio-custom"></span>
                                <span>Khác</span>
                            </label>
                        </div>
                    </div>
                    <div class="form-actions">
                        <button type="submit" class="save-btn">
                            <i class="fas fa-save"></i> Lưu thay đổi
                        </button>
                    </div>
                </form>
            </section>

            <!-- Change Password Section -->
            <section id="change-password" class="profile-section">
                <div class="section-header">
                    <h3>Đổi mật khẩu</h3>
                    <p class="section-description">Cập nhật mật khẩu của bạn thường xuyên để bảo vệ tài khoản</p>
                </div>
                <form class="profile-form" id="passwordForm">
                    <div class="form-group">
                        <label>Mật khẩu hiện tại</label>
                        <div class="password-input">
                            <div class="input-with-icon">
                                <i class="fas fa-lock"></i>
                                <input type="password" id="currentPassword" placeholder="Nhập mật khẩu hiện tại">
                            </div>
                            <button type="button" class="toggle-password">
                                <i class="fas fa-eye"></i>
                            </button>
                        </div>
                    </div>
                    <div class="form-group">
                        <label>Mật khẩu mới</label>
                        <div class="password-input">
                            <div class="input-with-icon">
                                <i class="fas fa-lock"></i>
                                <input type="password" id="newPassword" placeholder="Nhập mật khẩu mới">
                            </div>
                            <button type="button" class="toggle-password">
                                <i class="fas fa-eye"></i>
                            </button>
                        </div>
                    </div>
                    <div class="form-group">
                        <label>Xác nhận mật khẩu mới</label>
                        <div class="password-input">
                            <div class="input-with-icon">
                                <i class="fas fa-lock"></i>
                                <input type="password" id="confirmPassword" placeholder="Nhập lại mật khẩu mới">
                            </div>
                            <button type="button" class="toggle-password">
                                <i class="fas fa-eye"></i>
                            </button>
                        </div>
                    </div>
                    <div class="password-strength">
                        <div class="strength-meter">
                            <div class="strength-bar" id="strengthBar"></div>
                        </div>
                        <span class="strength-text" id="strengthText">Độ mạnh mật khẩu</span>
                    </div>
                    <div class="password-tips">
                        <p>Mật khẩu mạnh nên có:</p>
                        <ul>
                            <li>Ít nhất 8 ký tự</li>
                            <li>Chữ hoa và chữ thường</li>
                            <li>Số và ký tự đặc biệt</li>
                        </ul>
                    </div>
                    <div class="form-actions">
                        <button type="submit" class="save-btn">
                            <i class="fas fa-key"></i> Đổi mật khẩu
                        </button>
                    </div>
                </form>
            </section>

            <!-- Orders Section -->
            <section id="orders" class="profile-section">
                <div class="section-header">
                    <h3>Đơn hàng của tôi</h3>
                    <p class="section-description">Theo dõi và quản lý các đơn hàng của bạn</p>
                </div>
                <div class="orders-filter">
                    <div class="filter-group">
                        <label>Lọc theo trạng thái:</label>
                        <select class="filter-select">
                            <option value="all">Tất cả đơn hàng</option>
                            <option value="pending">Chờ xác nhận</option>
                            <option value="processing">Đang xử lý</option>
                            <option value="shipped">Đang giao hàng</option>
                            <option value="delivered">Đã giao hàng</option>
                            <option value="cancelled">Đã hủy</option>
                        </select>
                    </div>
                    <div class="filter-group">
                        <label>Sắp xếp theo:</label>
                        <select class="filter-select">
                            <option value="newest">Mới nhất</option>
                            <option value="oldest">Cũ nhất</option>
                            <option value="price-high">Giá cao nhất</option>
                            <option value="price-low">Giá thấp nhất</option>
                        </select>
                    </div>
                </div>
                <div class="empty-state elegant">
                    <div class="empty-icon">
                        <i class="fas fa-shopping-cart"></i>
                    </div>
                    <h4>Chưa có đơn hàng nào</h4>
                    <p>Bạn chưa có đơn hàng nào trong lịch sử mua sắm</p>
                    <a href="index.html" class="shop-now-btn">
                        <span>Mua sắm ngay</span>
                        <i class="fas fa-arrow-right"></i>
                    </a>
                </div>
            </section>

            <!-- Wishlist Section -->
            <section id="wishlist" class="profile-section">
                <div class="section-header">
                    <h3>Sản phẩm yêu thích</h3>
                    <p class="section-description">Danh sách các sản phẩm bạn đã đánh dấu yêu thích</p>
                </div>
                <div class="empty-state elegant">
                    <div class="empty-icon">
                        <i class="fas fa-heart"></i>
                    </div>
                    <h4>Danh sách yêu thích trống</h4>
                    <p>Chưa có sản phẩm nào trong danh sách yêu thích của bạn</p>
                    <a href="index.html" class="shop-now-btn">
                        <span>Khám phá sản phẩm</span>
                        <i class="fas fa-arrow-right"></i>
                    </a>
                </div>
            </section>

            <!-- Addresses Section -->
            <section id="addresses" class="profile-section">
                <div class="section-header">
                    <h3>Sổ địa chỉ</h3>
                    <p class="section-description">Quản lý địa chỉ giao hàng của bạn</p>
                </div>
                <div class="address-list">
                    <div class="empty-state elegant">
                        <div class="empty-icon">
                            <i class="fas fa-map-marker-alt"></i>
                        </div>
                        <h4>Chưa có địa chỉ nào</h4>
                        <p>Bạn chưa thêm địa chỉ giao hàng nào</p>
                        <button class="add-address-btn">
                            <i class="fas fa-plus"></i> Thêm địa chỉ mới
                        </button>
                    </div>
                </div>
            </section>

            <div class="profile-info">
                <p><strong>Tên đăng nhập:</strong> <span id="profile-username"></span></p>
                <p><strong>Email:</strong> <span id="profile-email"></span></p>
                <p><strong>Số điện thoại:</strong> <span id="profile-phone"></span></p>
                <p><strong>Giới tính:</strong> <span id="profile-gender"></span></p>
                <p><strong>Ngày sinh:</strong> <span id="profile-birthday"></span></p>
            </div>
        </div>
    </main>

    <!-- Notification -->
    <div class="notification-container" id="notificationContainer"></div>

    <script src="./scripts/profile.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            if (window.location.hash === '#orders') {
                const ordersTab = document.querySelector('a[href="#orders"]');
                if (ordersTab) {
                    document.querySelectorAll('.profile-nav a').forEach(tab => {
                        tab.classList.remove('active');
                    });
                    ordersTab.classList.add('active');
                    document.querySelectorAll('.profile-section').forEach(section => {
                        section.style.display = 'none';
                    });
                    const ordersSection = document.getElementById('orders');
                    if (ordersSection) {
                        ordersSection.style.display = 'block';
                    }
                }
            }

            // Ưu tiên lấy từ localStorage, nếu không có thì lấy từ sessionStorage
            let user = localStorage.getItem('currentUser');
            if (!user) user = sessionStorage.getItem('currentUser');
            if (user) {
                user = JSON.parse(user);
                // Bên trái
                document.getElementById('userName').textContent = user.username || '';
                document.getElementById('userEmail').textContent = user.email || '';
                // Bên phải (tổng quan tài khoản)
                document.getElementById('summaryName').textContent = user.username || '';
                document.getElementById('summaryEmail').textContent = user.email || '';
                document.getElementById('summaryPhone').textContent = user.phone || '';
                document.getElementById('summaryCreated').textContent = user.registeredAt
                    ? new Date(user.registeredAt).toLocaleDateString('vi-VN')
                    : '';
                // Thông tin cá nhân phía dưới (nếu có)
                document.getElementById('profile-username').textContent = user.username || '';
                document.getElementById('profile-email').textContent = user.email || '';
                document.getElementById('profile-phone').textContent = user.phone || '';
                document.getElementById('profile-gender').textContent = user.gender === 'male' ? 'Nam' : (user.gender === 'female' ? 'Nữ' : '');
                document.getElementById('profile-birthday').textContent = user.birthday || '';
            } else {
                document.querySelector('.profile-info').innerHTML = '<p>Bạn chưa đăng nhập!</p>';
            }
        });
    </script>
</body>
</html>

